<!doctype html public "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<html>
<head>
<title>
JavaScript Utilities Overview
</title>
<link rel ="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script>
function asd() {
	
		parent.document.title="base.js Overview";
	
}
</script>
</head>
<body bgcolor="white" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> 	<font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top">
<em>
<b>JavaScript Utilities</b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<center>
	
	   <h2>base.js</h2>
	
</center>

	


<h4>Summary</h4>
<p>
	
		No overview generated for 'base.js'<BR/><BR/>
	
</p>

<hr>



<!-- ========== METHOD SUMMARY =========== -->

	<a name="method_summary"><!-- --></a>
	<table border="1" cellpadding="3" cellspacing="0" width="100%">
		<tr bgcolor="#CCCCFF" class="TableHeadingColor">
			<td colspan=2>
				<font size="+2">
					<b>Method Summary</b>
				</font>
			</td>
		</tr>
	
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!randomString">randomString</a></b>(len)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 generate random string
		      </td>
		   </tr>
		
	
	</table>
    <p>

<!-- ========== END METHOD SUMMARY =========== -->


        <pre class="sourceview"><span class="comment">/**
 * Wrap function with default arguments.
 * Usage:
 * var f_orig = function(a, b){ ... };
 * var a = 1;
 * var b = 2;
 * var f_wrapped = Globa.wrapFunc(f_orig, a);
 * 
 * f_wrapped(b); // this execute f_orig and pass a as first argument and b as second 
 * 
 * <span class="attrib">@param</span> {Function} func function to wrap
 * <span class="attrib">@return</span> {Function} wrapped function
 */</span>
var wrapFunc = <span class="reserved">function</span>(func){
		var makeArray = Array.<span class="reserved">prototype</span>.slice;
		var wrapArguments = makeArray.call(arguments, 1);					
		<span class="reserved">return</span> <span class="reserved">function</span>(){ <span class="reserved">return</span> func.apply(<span class="reserved">this</span>, wrapArguments.concat(makeArray.call(arguments))); };							
};


<span class="comment">/**
 * Method to find element in array
 * <span class="attrib">@param</span> value Value to find
 */</span>
Array.<span class="reserved">prototype</span>.inarr = <span class="reserved">function</span> (value){
    <span class="comment">// Returns true if the passed value is found in the</span>
    <span class="comment">// array. Returns false if it is not.</span>
    <span class="reserved">for</span> (var i = 0; i &lt; <span class="reserved">this</span>.length; i++) {
        <span class="comment">// Matches identical (===), not just similar (==).</span>
        <span class="reserved">if</span> (<span class="reserved">this</span>[i] === value) {
            <span class="reserved">return</span> true;
        }
    }
    <span class="reserved">return</span> false;
};


<span class="comment">/**
 * Class to write log messages to console
 */</span>
var logger = (<span class="reserved">function</span>(){
   <span class="reserved">return</span> {
       <span class="literal">'log'</span> : <span class="reserved">function</span>(m){
           try{               
               var currentTime = new Date();
               var month = currentTime.getMonth() + 1;
               var day = currentTime.getDate();
               var year = currentTime.getFullYear();
               var hours = currentTime.getHours();
               var minutes = currentTime.getMinutes();
               var seconds = currentTime.getSeconds();

               var timestamp = month + <span class="literal">"/"</span> + day + <span class="literal">"/"</span> + year + <span class="literal">' '</span> + hours + <span class="literal">':'</span> + minutes + <span class="literal">':'</span> + seconds;               
               <span class="reserved">if</span>(typeof(m) != <span class="literal">'object'</span>){
                    console.log(timestamp + <span class="literal">'   '</span> + m);
                }<span class="reserved">else</span>{
                    console.log(timestamp);
                    console.log(m);
                }
           }catch(e){}    
       }
   } 
})();


<span class="comment">/**
 * generate random string
 */</span>
<span class="reserved">function</span> randomString(len) {
	var chars = <span class="literal">"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz"</span>;
	var string_length = len | 8;
	var randomstring = <span class="literal">''</span>;
	<span class="reserved">for</span> (var i=0; i&lt;string_length; i++) {
		var rnum = Math.floor(Math.random() * chars.length);
		randomstring += chars.substring(rnum,rnum+1);
	}
    <span class="reserved">return</span> randomstring;
}

<span class="comment">/** 
 * Template string
 */</span>
var Template = (<span class="reserved">function</span>(){
	<span class="reserved">return</span> {	
	    <span class="literal">'parseItem'</span> : <span class="reserved">function</span>(tpl, source, destination){	
		    <span class="reserved">return</span> tpl.replace(new RegExp(<span class="literal">'[\{]'</span> + source + <span class="literal">'[\}]'</span>, <span class="literal">'g'</span>), destination);
	    },	
	    <span class="literal">'parse'</span> : <span class="reserved">function</span>(tpl, source){
    		<span class="reserved">for</span>(var i in source){
    			tpl = Template.parseItem(tpl, i, source[i]);
    		}
    		<span class="reserved">return</span> tpl;
	    }
	} 
})();


<span class="comment">/** 
 * interface functions to work with jQuery UI Dialogs in ajax mode
 */</span>

var UI = (<span class="reserved">function</span>(){
    <span class="reserved">return</span> {
        <span class="literal">'detectHeight'</span> : <span class="reserved">function</span>(content, width_arg){
            var unit = <span class="literal">'px'</span>;
            <span class="reserved">if</span>(width_arg == null)unit = <span class="literal">'%'</span>;
            var width = width_arg || 100;
                
            var testBlock = $(<span class="literal">'&lt;div style="width:'</span> + width + unit +<span class="literal">'; position:absolute; top:-2500px; left:-2500px;"&gt;&lt;/div&gt;'</span>)
            $(<span class="literal">'body'</span>).append(testBlock);
            
            var clonedObj = content.clone();
            
            <span class="comment">// fix if content have css attribute height</span>
            <span class="reserved">if</span>(clonedObj.css(<span class="literal">'height'</span>) != <span class="literal">'auto'</span>){
                clonedObj.css(<span class="literal">'height'</span>, <span class="literal">'auto'</span>);
            }
            
            testBlock.append(clonedObj);
            
            var height = testBlock.height();            
            testBlock.remove();
            <span class="reserved">return</span> height;
       },
       
       <span class="literal">'loadbar'</span> : <span class="reserved">function</span>(msg){
           var message = msg || <span class="literal">'Loading, please wait...'</span>;
           <span class="reserved">return</span> <span class="literal">'&lt;p style="color:#2BD809; font-size:12px; font-weight:bold;"&gt;'</span> + message + <span class="literal">'&lt;/p&gt;'</span>;
       },
       <span class="literal">'error'</span> : <span class="reserved">function</span>(msg){
           var message = msg || <span class="literal">'Error occured while make AJAX request...'</span>;
           <span class="reserved">return</span> <span class="literal">'&lt;p style="color:#D95509; font-size:12px; font-weight:bold;"&gt;'</span> + message + <span class="literal">'&lt;/p&gt;'</span>;
       }
    }
})();


var Auth = (<span class="reserved">function</span>(){
    var user = null;
    <span class="reserved">return</span> {
        <span class="literal">'auth_required'</span> : <span class="reserved">function</span>(f){

            var AUTHORIZED = document.AUTHORIZED || null;
            <span class="reserved">if</span>(AUTHORIZED == null || AUTHORIZED == false){
                $(document).data(<span class="literal">'unauth_trigger'</span>, f);
                try{
                    $(document).trigger(<span class="literal">'UNAUTHORIZED_ACTION'</span>);
                }catch(e){
                    <span class="comment">//</span>
                }
                <span class="reserved">return</span>;
            }                        
            <span class="reserved">return</span> f();
        },
        <span class="literal">'is_authenticated'</span> : <span class="reserved">function</span>(){
            var AUTHORIZED = document.AUTHORIZED || null;
            <span class="reserved">return</span> AUTHORIZED || false;
        },
        <span class="literal">'login'</span> : <span class="reserved">function</span>(data){
            document.AUTHORIZED = true;
            $(<span class="literal">'.auth-deny'</span>).hide();
            $(<span class="literal">'.noauth-deny'</span>).show();
            
            var trigger = $(document).data(<span class="literal">'auth_trigger'</span>);                    
            <span class="reserved">if</span>(trigger)trigger(data);
        },
        <span class="literal">'logout'</span> : <span class="reserved">function</span>(){
            document.AUTHORIZED = false;
            $(<span class="literal">'.auth-deny'</span>).show();
            $(<span class="literal">'.noauth-deny'</span>).hide();
        },
        <span class="literal">'get_user'</span> : <span class="reserved">function</span>(){
            <span class="reserved">return</span> user || null;
        }
    }
})();


<span class="comment">/**
 * A singleton object to manipulate and
 * confirm relation based on html elements dimension
 */</span>
var Dimension = (<span class="reserved">function</span>(){
	<span class="reserved">return</span> {
	    dimensionOfElements : <span class="reserved">function</span>(selector){
	        var minTop = -1, minLeft = -1, maxTop = 0, maxLeft = 0;	        
    	    $(selector).each(<span class="reserved">function</span>(){			
    			var srcElement = $(<span class="reserved">this</span>);
    			var dim = Dimension.get(srcElement);

    			<span class="reserved">if</span>(minTop == -1)minTop = dim.top;
    			<span class="reserved">if</span>(minLeft == -1)minLeft = dim.left;

    			minTop = Math.min(minTop, dim.top);
    			maxTop = Math.max(maxTop, dim.top + dim.height);
    			minLeft = Math.min(minLeft, dim.left);
    			maxLeft = Math.max(maxLeft, dim.left + dim.width);
    			<span class="reserved">return</span> true;
    		});
    		<span class="reserved">return</span> {
    		    <span class="literal">'min'</span> : {
    		        <span class="literal">'top'</span> : minTop,
    		        <span class="literal">'left'</span> : minLeft
    		    },
    		    <span class="literal">'max'</span> : {
    		        <span class="literal">'top'</span> : maxTop,
    		        <span class="literal">'left'</span> : maxLeft
    		    }
    		}
    	},
		<span class="literal">'get'</span> : <span class="reserved">function</span>(e){
			var offset = e.offset();
			<span class="reserved">return</span> {
				top : offset.top,
				left : offset.left, 
				width : e.outerWidth(),
				height : e.outerHeight()
			}
		},
		<span class="literal">'is_equal'</span> : <span class="reserved">function</span>(e1, e2){
			<span class="reserved">if</span>(e1.top == e2.top &amp;&amp; e1.left == e2.left &amp;&amp; 
			   e1.width == e2.width &amp;&amp; e1.height == e2.height)<span class="reserved">return</span> true;
			<span class="reserved">return</span> false;
		},
		<span class="literal">'in_area'</span> : <span class="reserved">function</span>(obj, pos){
			var e = Dimension.get(obj);
			
			<span class="reserved">if</span>(pos.x &gt; e.left &amp;&amp; pos.y &gt; e.top &amp;&amp; 
			   pos.x &lt; e.left + e.width &amp;&amp; 
			   pos.y &lt; e.top + e.height)<span class="reserved">return</span> true;
			<span class="reserved">return</span> false;
		}
	}
})();</pre>
	<hr>



<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> <font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top"><em>
<b>JavaScript Utilities</b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<font size="-1">
&copy; 2009-2010 Max Klymyshyn
</font>
<div class="jsdoc_ctime">Documentation generated by <a href="http://jsdoc.sourceforge.net/" target="_parent">JSDoc</a> on Thu Sep  2 13:41:10 2010</div>
</body>
</html>
